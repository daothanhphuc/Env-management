<form id="register-form" class="hidden" onsubmit="registerUser(event)">
    <div class="title-signup">
        THAM GIA CÙNG CHÚNG TÔI    
    </div>
    <div class="bio">
        Bạn có thể đăng ký sử dụng trang web nếu bạn là người mới
    </div>
    <div class="account-border">
        <input id="fullname" class="account" placeholder="Họ và tên" required></br>
    </div>
    <div class="account-border">
        <input id="username" class="account" placeholder="Tên tài khoản" required></br>
    </div>
    <div class="password-border">
        <input id="password" type="password" class="password" placeholder="Mật khẩu mới" required></br>
    </div>
    <div class="email-border">
        <input id="email" type="email" class="email" placeholder="Email" required></br>
    </div>
    <input type="submit" value="Hoàn thành" class="submit-form">
</form>

<script>
    async function registerUser(event) {
        event.preventDefault();
        
        const fullname = document.getElementById('fullname').value;
        const username = document.getElementById('username').value;
        const password = document.getElementById('password').value;
        const email = document.getElementById('email').value;

        const userData = {
            fullname: fullname,
            username: username,
            password: password,
            email: email
        };

        const response = await fetch('/register_user/new_user', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
            body: JSON.stringify(userData)
        });

        if (response.ok) {
            alert('Registration successful!');
        } else {
            alert('Error: ' + (await response.text()));
        }
    }
</script>
